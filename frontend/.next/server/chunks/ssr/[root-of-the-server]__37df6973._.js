module.exports=[5648,(a,b,c)=>{"use strict";b.exports=a.r(32266).vendored.contexts.HooksClientContext},78636,(a,b,c)=>{"use strict";b.exports=a.r(32266).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},90680,(a,b,c)=>{"use strict";b.exports=a.r(32266).vendored.contexts.AppRouterContext},66719,(a,b,c)=>{"use strict";b.exports=a.r(32266).vendored["react-ssr"].ReactServerDOMTurbopackClient},14789,a=>{"use strict";let b=(0,a.i(36742).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],14789)},11634,a=>{"use strict";let b=(0,a.i(36742).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],11634)},27630,a=>{"use strict";var b=a.i(56718),c=a.i(67416),d=a.i(82823),e=a.i(40771),f=a.i(57158),g=a.i(95736),h=a.i(14789),i=a.i(11634);function j(){let{user:a,isAuthenticated:j,loading:k}=(0,e.useAuth)(),l=(0,d.useRouter)(),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)({status:"",paymentStatus:""}),[s,t]=(0,c.useState)("");(0,c.useEffect)(()=>{k||j&&a?.role==="admin"?j&&a?.role==="admin"&&u():l.push("/products")},[j,k,a,q.status,q.paymentStatus]),(0,c.useEffect)(()=>{let b=setTimeout(()=>{j&&a?.role==="admin"&&u()},300);return()=>clearTimeout(b)},[s]);let u=async()=>{try{let a={};q.status&&(a.status=q.status),q.paymentStatus&&(a.paymentStatus=q.paymentStatus);let b=await f.default.get("/orders/admin/all",{params:a});if(b.data.success){let a=b.data.orders;s&&(a=a.filter(a=>a.orderNumber.toLowerCase().includes(s.toLowerCase())||a.customer.email.toLowerCase().includes(s.toLowerCase())||a.customer.name.toLowerCase().includes(s.toLowerCase()))),n(a)}}catch(a){console.error("Error fetching orders:",a)}finally{p(!1)}},v=async(a,b,c)=>{try{await f.default.put(`/orders/${a}/status`,{status:b,trackingNumber:c}),u(),alert("Order status updated successfully!")}catch(a){alert(a.response?.data?.message||"Failed to update order status")}};return k||o?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(g.default,{}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-20 text-center",children:"Loading..."})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(g.default,{}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Manage Orders"}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"View and process customer orders"})]})}),(0,b.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,b.jsx)("input",{type:"text",placeholder:"Search by order number, email...",value:s,onChange:a=>t(a.target.value),onKeyPress:a=>"Enter"===a.key&&u(),className:"w-full pl-10 pr-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,b.jsxs)("select",{value:q.status,onChange:a=>r({...q,status:a.target.value}),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,b.jsx)("option",{value:"",children:"All Statuses"}),(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"processing",children:"Processing"}),(0,b.jsx)("option",{value:"shipped",children:"Shipped"}),(0,b.jsx)("option",{value:"delivered",children:"Delivered"}),(0,b.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,b.jsxs)("select",{value:q.paymentStatus,onChange:a=>r({...q,paymentStatus:a.target.value}),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,b.jsx)("option",{value:"",children:"All Payment Statuses"}),(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"paid",children:"Paid"}),(0,b.jsx)("option",{value:"failed",children:"Failed"}),(0,b.jsx)("option",{value:"refunded",children:"Refunded"})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Order"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Customer"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Items"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Total"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Payment"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===m.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:[(0,b.jsx)(h.Package,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,b.jsx)("p",{children:"No orders found"})]})}):m.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.orderNumber}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:new Date(a.createdAt).toLocaleDateString()})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.customer.name}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:a.customer.email})]})}),(0,b.jsxs)("td",{className:"px-6 py-4 text-sm",children:[a.items.length," item(s)"]}),(0,b.jsxs)("td",{className:"px-6 py-4 font-bold",children:["$",a.total.toFixed(2)]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("select",{value:a.status,onChange:b=>{let c=b.target.value;if("shipped"===c){let b=prompt("Enter tracking number (optional):");v(a._id,c,b||void 0)}else v(a._id,c)},className:`text-sm px-3 py-1 rounded-full font-semibold border-2 ${"delivered"===a.status?"bg-green-100 text-green-800 border-green-300":"shipped"===a.status?"bg-blue-100 text-blue-800 border-blue-300":"processing"===a.status?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-gray-100 text-gray-800 border-gray-300"}`,children:[(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"processing",children:"Processing"}),(0,b.jsx)("option",{value:"shipped",children:"Shipped"}),(0,b.jsx)("option",{value:"delivered",children:"Delivered"}),(0,b.jsx)("option",{value:"cancelled",children:"Cancelled"})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded-full font-semibold ${"paid"===a.paymentStatus?"bg-green-100 text-green-800":"failed"===a.paymentStatus?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.paymentStatus})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("button",{onClick:()=>{alert(`
Order: ${a.orderNumber}
Customer: ${a.customer.name}
Email: ${a.customer.email}
Address: ${a.shippingAddress.street}, ${a.shippingAddress.city}, ${a.shippingAddress.state} ${a.shippingAddress.zipCode}
Items: ${a.items.map(a=>`${a.name} x${a.quantity}`).join(", ")}
Total: $${a.total.toFixed(2)}
Status: ${a.status}
Payment: ${a.paymentStatus}
                            `)},className:"text-blue-600 hover:text-blue-800 text-sm font-semibold",children:"View Details"})})]},a._id))})]})})})]})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__37df6973._.js.map