module.exports=[5648,(a,b,c)=>{"use strict";b.exports=a.r(32266).vendored.contexts.HooksClientContext},78636,(a,b,c)=>{"use strict";b.exports=a.r(32266).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},90680,(a,b,c)=>{"use strict";b.exports=a.r(32266).vendored.contexts.AppRouterContext},66719,(a,b,c)=>{"use strict";b.exports=a.r(32266).vendored["react-ssr"].ReactServerDOMTurbopackClient},14789,a=>{"use strict";let b=(0,a.i(36742).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],14789)},51116,a=>{"use strict";let b=(0,a.i(36742).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],51116)},92085,a=>{"use strict";let b=(0,a.i(36742).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);a.s(["BarChart3",()=>b],92085)},91283,a=>{"use strict";let b=(0,a.i(36742).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);a.s(["ShoppingBag",()=>b],91283)},9720,a=>{"use strict";var b=a.i(56718),c=a.i(67416),d=a.i(82823),e=a.i(40771),f=a.i(57158),g=a.i(95736),h=a.i(92085),i=a.i(36742);let j=(0,i.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var k=a.i(14789),l=a.i(91283);let m=(0,i.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var n=a.i(51116);function o(){let{user:a,isAuthenticated:i,loading:o}=(0,e.useAuth)(),p=(0,d.useRouter)(),[q,r]=(0,c.useState)({totalProducts:0,totalOrders:0,totalRevenue:0,totalCustomers:0,recentOrders:0,lowStockProducts:0}),[s,t]=(0,c.useState)(!0);(0,c.useEffect)(()=>{o||i&&a?.role==="admin"?i&&a?.role==="admin"&&u():p.push("/products")},[i,o,a]);let u=async()=>{try{let[a,b,c]=await Promise.all([f.default.get("/products?limit=1000"),f.default.get("/orders/admin/all?limit=1000"),f.default.get("/users/admin/all")]),d=a.data.products||[],e=b.data.orders||[],g=c.data.users||[],h=e.filter(a=>"paid"===a.paymentStatus).reduce((a,b)=>a+b.total,0),i=d.filter(a=>a.inventory.quantity<=a.inventory.lowStockThreshold).length,j=new Date;j.setDate(j.getDate()-7);let k=e.filter(a=>new Date(a.createdAt)>=j).length;r({totalProducts:d.length,totalOrders:e.length,totalRevenue:h,totalCustomers:g.length,recentOrders:k,lowStockProducts:i})}catch(a){console.error("Error fetching analytics:",a)}finally{t(!1)}};return o||s?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(g.default,{}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-20 text-center",children:"Loading..."})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(g.default,{}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Analytics & Reports"}),(0,b.jsx)("p",{className:"text-gray-600",children:"View sales data and store performance"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:"Total Revenue"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["$",q.totalRevenue.toFixed(2)]})]}),(0,b.jsx)(j,{className:"w-12 h-12 text-green-600"})]})}),(0,b.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:"Total Orders"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:q.totalOrders})]}),(0,b.jsx)(l.ShoppingBag,{className:"w-12 h-12 text-blue-600"})]})}),(0,b.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:"Total Products"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:q.totalProducts})]}),(0,b.jsx)(k.Package,{className:"w-12 h-12 text-purple-600"})]})}),(0,b.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:"Total Customers"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:q.totalCustomers})]}),(0,b.jsx)(n.Users,{className:"w-12 h-12 text-yellow-600"})]})})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,b.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:"Recent Orders (7 days)"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-indigo-600",children:q.recentOrders})]}),(0,b.jsx)(m,{className:"w-12 h-12 text-indigo-600"})]})}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:"Low Stock Products"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-red-600",children:q.lowStockProducts})]}),(0,b.jsx)(h.BarChart3,{className:"w-12 h-12 text-red-600"})]}),q.lowStockProducts>0&&(0,b.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"⚠️ Action needed: Restock these products"})]})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Performance Summary"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Average Order Value"}),(0,b.jsxs)("span",{className:"font-bold text-lg",children:["$",q.totalOrders>0?(q.totalRevenue/q.totalOrders).toFixed(2):"0.00"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Revenue per Customer"}),(0,b.jsxs)("span",{className:"font-bold text-lg",children:["$",q.totalCustomers>0?(q.totalRevenue/q.totalCustomers).toFixed(2):"0.00"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Orders per Customer"}),(0,b.jsx)("span",{className:"font-bold text-lg",children:q.totalCustomers>0?(q.totalOrders/q.totalCustomers).toFixed(2):"0.00"})]})]})]})]})]})}a.s(["default",()=>o],9720)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__602aaf3e._.js.map