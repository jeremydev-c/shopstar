{"version":3,"sources":["turbopack:///[project]/g/ecommerce-platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/g/ecommerce-platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/g/ecommerce-platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/g/ecommerce-platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","turbopack:///[project]/g/ecommerce-platform/frontend/app/cart/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport api from '@/lib/api';\r\nimport { Cart } from '@/lib/types';\r\nimport Navigation from '@/components/Navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function CartPage() {\r\n  const { isAuthenticated } = useAuth();\r\n  const router = useRouter();\r\n  const [cart, setCart] = useState<Cart | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n    fetchCart();\r\n  }, [isAuthenticated]);\r\n\r\n  const fetchCart = async () => {\r\n    try {\r\n      const response = await api.get('/cart');\r\n      if (response.data.success) {\r\n        setCart(response.data.cart);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching cart:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateQuantity = async (itemId: string, quantity: number) => {\r\n    try {\r\n      await api.put(`/cart/${itemId}`, { quantity });\r\n      fetchCart();\r\n    } catch (error) {\r\n      console.error('Error updating cart:', error);\r\n    }\r\n  };\r\n\r\n  const removeItem = async (itemId: string) => {\r\n    try {\r\n      await api.delete(`/cart/${itemId}`);\r\n      fetchCart();\r\n    } catch (error) {\r\n      console.error('Error removing item:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <Navigation />\r\n        <div className=\"container mx-auto px-4 py-20 text-center\">Loading cart...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!cart || cart.items.length === 0) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <Navigation />\r\n        <div className=\"container mx-auto px-4 py-20 text-center\">\r\n          <h1 className=\"text-4xl font-bold mb-4\">Your Cart is Empty</h1>\r\n          <Link href=\"/products\" className=\"text-purple-600 hover:underline\">\r\n            Continue Shopping\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <Navigation />\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <h1 className=\"text-4xl font-bold mb-8\">Shopping Cart</h1>\r\n\r\n        <div className=\"grid md:grid-cols-3 gap-8\">\r\n          {/* Cart Items */}\r\n          <div className=\"md:col-span-2 space-y-4\">\r\n            {cart.items.map((item) => (\r\n              <div key={item._id} className=\"bg-white p-6 rounded-lg shadow-md flex gap-4\">\r\n                <img\r\n                  src={item.product.images[0] || '/placeholder.jpg'}\r\n                  alt={item.product.name}\r\n                  className=\"w-24 h-24 object-cover rounded\"\r\n                />\r\n                <div className=\"flex-1\">\r\n                  <h3 className=\"font-semibold text-lg\">{item.product.name}</h3>\r\n                  <p className=\"text-purple-600 font-bold\">${item.product.price}</p>\r\n                  \r\n                  <div className=\"flex items-center gap-4 mt-4\">\r\n                    <button\r\n                      onClick={() => updateQuantity(item._id, item.quantity - 1)}\r\n                      className=\"w-8 h-8 border rounded\"\r\n                    >\r\n                      -\r\n                    </button>\r\n                    <span>{item.quantity}</span>\r\n                    <button\r\n                      onClick={() => updateQuantity(item._id, item.quantity + 1)}\r\n                      className=\"w-8 h-8 border rounded\"\r\n                    >\r\n                      +\r\n                    </button>\r\n                    <button\r\n                      onClick={() => removeItem(item._id)}\r\n                      className=\"ml-auto text-red-600 hover:underline\"\r\n                    >\r\n                      Remove\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Order Summary */}\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md h-fit\">\r\n            <h2 className=\"text-2xl font-bold mb-4\">Order Summary</h2>\r\n            <div className=\"space-y-2 mb-4\">\r\n              <div className=\"flex justify-between\">\r\n                <span>Subtotal:</span>\r\n                <span>${cart.total.toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Tax:</span>\r\n                <span>$0.00</span>\r\n              </div>\r\n              <div className=\"flex justify-between font-bold text-lg border-t pt-2\">\r\n                <span>Total:</span>\r\n                <span>${cart.total.toFixed(2)}</span>\r\n              </div>\r\n            </div>\r\n            <Link\r\n              href=\"/checkout\"\r\n              className=\"block w-full bg-purple-600 text-white text-center py-3 rounded-lg font-semibold hover:bg-purple-700\"\r\n            >\r\n              Checkout\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3]}