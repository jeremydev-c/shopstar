module.exports=[34389,a=>{"use strict";var b=a.i(56718),c=a.i(67416),d=a.i(82823),e=a.i(40771),f=a.i(57158),g=a.i(95736),h=a.i(36742);let i=(0,h.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),j=(0,h.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),k=(0,h.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var l=a.i(14789);function m(){let{user:a,isAuthenticated:h,loading:m}=(0,e.useAuth)(),n=(0,d.useRouter)(),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)({name:"",description:"",price:"",compareAtPrice:"",sku:"",category:"",images:[""],inventory:{quantity:"",lowStockThreshold:"10"},status:"draft",featured:!1,tags:""});(0,c.useEffect)(()=>{m||h&&a?.role==="admin"?h&&a?.role==="admin"&&(A(),B()):n.push("/products")},[h,m,a]);let A=async()=>{try{let a=await f.default.get("/products?limit=100");p(a.data.products||[])}catch(a){console.error("Error fetching products:",a)}finally{t(!1)}},B=async()=>{try{let a=await f.default.get("/categories");r(a.data.categories||[])}catch(a){console.error("Error fetching categories:",a)}},C=async a=>{a.preventDefault();try{let a={...y,price:parseFloat(y.price),compareAtPrice:y.compareAtPrice?parseFloat(y.compareAtPrice):void 0,images:y.images.filter(a=>""!==a.trim()),inventory:{quantity:parseInt(y.inventory.quantity),lowStockThreshold:parseInt(y.inventory.lowStockThreshold),trackQuantity:!0},tags:y.tags?y.tags.split(",").map(a=>a.trim()):[]};w?(await f.default.put(`/products/${w._id}`,a),alert("Product updated successfully!")):(await f.default.post("/products",a),alert("Product created successfully!")),v(!1),x(null),D(),A()}catch(a){alert(a.response?.data?.message||"Error saving product"),console.error("Error saving product:",a)}},D=()=>{z({name:"",description:"",price:"",compareAtPrice:"",sku:"",category:"",images:[""],inventory:{quantity:"",lowStockThreshold:"10"},status:"draft",featured:!1,tags:""})},E=async a=>{if(confirm("Are you sure you want to delete this product?"))try{await f.default.delete(`/products/${a}`),alert("Product deleted successfully!"),A()}catch(a){alert(a.response?.data?.message||"Error deleting product")}},F=async(a,b)=>{if(!(b<0))try{let c=o.find(b=>b._id===a);if(!c)return;await f.default.put(`/products/${a}`,{inventory:{quantity:b,lowStockThreshold:c.inventory.lowStockThreshold||10,trackQuantity:!0}}),A()}catch(a){alert(a.response?.data?.message||"Error updating stock"),A()}};return m||s?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(g.default,{}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-20 text-center",children:"Loading..."})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,b.jsx)(g.default,{}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Manage Products"}),(0,b.jsxs)("button",{onClick:()=>{D(),x(null),v(!u)},className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[(0,b.jsx)(i,{className:"w-5 h-5"}),u?"Cancel":"Add Product"]})]}),u&&(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border-2 border-purple-200 p-8 mb-8",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold mb-6 text-gray-900",children:w?"Edit Product":"Add New Product"}),(0,b.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold mb-2 text-gray-900",children:"Product Name *"}),(0,b.jsx)("input",{type:"text",required:!0,value:y.name,onChange:a=>z({...y,name:a.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 bg-white text-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold mb-2 text-gray-900",children:"SKU *"}),(0,b.jsx)("input",{type:"text",required:!0,value:y.sku,onChange:a=>z({...y,sku:a.target.value.toUpperCase()}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 bg-white text-lg",placeholder:"PROD-001"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold mb-2 text-gray-900",children:"Description *"}),(0,b.jsx)("textarea",{required:!0,value:y.description,onChange:a=>z({...y,description:a.target.value}),rows:4,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 bg-white text-lg"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold mb-2 text-gray-900",children:"Price ($) *"}),(0,b.jsx)("input",{type:"number",step:"0.01",required:!0,value:y.price,onChange:a=>z({...y,price:a.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 bg-white text-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold mb-2 text-gray-900",children:"Compare At Price ($)"}),(0,b.jsx)("input",{type:"number",step:"0.01",value:y.compareAtPrice,onChange:a=>z({...y,compareAtPrice:a.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 bg-white text-lg",placeholder:"Original price (for sale)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold mb-2 text-gray-900",children:"Category *"}),(0,b.jsxs)("select",{required:!0,value:y.category,onChange:a=>z({...y,category:a.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 bg-white text-lg",children:[(0,b.jsx)("option",{value:"",children:"Select Category"}),q.map(a=>(0,b.jsx)("option",{value:a._id,children:a.name},a._id))]})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold mb-2 text-gray-900",children:"Quantity *"}),(0,b.jsx)("input",{type:"number",required:!0,value:y.inventory.quantity,onChange:a=>z({...y,inventory:{...y.inventory,quantity:a.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 bg-white text-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold mb-2 text-gray-900",children:"Low Stock Threshold"}),(0,b.jsx)("input",{type:"number",value:y.inventory.lowStockThreshold,onChange:a=>z({...y,inventory:{...y.inventory,lowStockThreshold:a.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 bg-white text-lg"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold mb-2 text-gray-900",children:"Image URLs"}),y.images.map((a,c)=>(0,b.jsx)("input",{type:"url",value:a,onChange:a=>{var b;let d;return b=a.target.value,void((d=[...y.images])[c]=b,z({...y,images:d}))},placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg mb-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 bg-white text-lg"},c)),(0,b.jsx)("button",{type:"button",onClick:()=>{z({...y,images:[...y.images,""]})},className:"text-purple-700 hover:text-purple-900 font-semibold text-base underline",children:"+ Add Another Image"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold mb-2 text-gray-900",children:"Status"}),(0,b.jsxs)("select",{value:y.status,onChange:a=>z({...y,status:a.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 bg-white text-lg",children:[(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"archived",children:"Archived"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-base font-semibold mb-2 text-gray-900",children:"Tags (comma-separated)"}),(0,b.jsx)("input",{type:"text",value:y.tags,onChange:a=>z({...y,tags:a.target.value}),placeholder:"tag1, tag2, tag3",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-900 bg-white text-lg"})]})]}),(0,b.jsxs)("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200",children:[(0,b.jsx)("input",{type:"checkbox",checked:y.featured,onChange:a=>z({...y,featured:a.target.checked}),className:"mr-3 w-5 h-5 text-purple-600 focus:ring-purple-500"}),(0,b.jsx)("label",{className:"text-base font-semibold text-gray-900",children:"Feature this product"})]}),(0,b.jsx)("button",{type:"submit",className:"w-full bg-purple-600 text-white px-6 py-4 rounded-lg hover:bg-purple-700 text-lg font-bold shadow-lg hover:shadow-xl transition-all",children:w?"Update Product":"Create Product"})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Product"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"SKU"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Price"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Stock Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===o.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:[(0,b.jsx)(l.Package,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,b.jsx)("p",{children:"No products found. Add your first product!"})]})}):o.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[a.images[0]&&(0,b.jsx)("img",{src:a.images[0],alt:a.name,className:"w-12 h-12 object-cover rounded",onError:a=>{a.target.src="/placeholder.jpg"}}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:a.category?.name})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:a.sku}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsxs)("div",{className:"font-medium",children:["$",a.price.toFixed(2)]}),a.inventory.quantity<=a.inventory.lowStockThreshold&&(0,b.jsx)("div",{className:"text-xs text-red-500",children:"Low Stock"})]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"number",min:"0",value:a.inventory.quantity,onChange:b=>{let c=parseInt(b.target.value)||0;F(a._id,c)},onBlur:b=>{let c=parseInt(b.target.value)||0;F(a._id,c)},className:"w-24 px-2 py-2 border-2 border-gray-300 rounded text-base font-semibold focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),(0,b.jsx)("span",{className:`px-3 py-1 text-sm rounded-full font-bold ${a.inventory.quantity>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.inventory.quantity>0?"✓ In Stock":"✗ Out of Stock"})]}),(0,b.jsx)("button",{onClick:()=>{let b=a.inventory.quantity>0?0:100;F(a._id,b)},className:`text-xs px-3 py-1 rounded font-semibold ${a.inventory.quantity>0?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:a.inventory.quantity>0?"Set Out of Stock":"Set In Stock (100)"})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${"active"===a.status?"bg-green-100 text-green-800":"draft"===a.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{x(a),z({name:a.name,description:a.description,price:a.price.toString(),compareAtPrice:"",sku:a.sku,category:a.category._id,images:a.images.length>0?a.images:[""],inventory:{quantity:a.inventory.quantity.toString(),lowStockThreshold:a.inventory.lowStockThreshold.toString()},status:a.status,featured:a.featured,tags:""}),v(!0)},className:"text-blue-600 hover:text-blue-800",children:(0,b.jsx)(j,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>E(a._id),className:"text-red-600 hover:text-red-800",children:(0,b.jsx)(k,{className:"w-4 h-4"})})]})})]},a._id))})]})})})]})]})}a.s(["default",()=>m],34389)}];

//# sourceMappingURL=g_ecommerce-platform_frontend_app_admin_products_page_tsx_aa1aed12._.js.map