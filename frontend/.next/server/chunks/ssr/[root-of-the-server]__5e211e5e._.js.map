{"version":3,"sources":["turbopack:///[project]/g/ecommerce-platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/g/ecommerce-platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/g/ecommerce-platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/g/ecommerce-platform/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","turbopack:///[project]/g/ecommerce-platform/frontend/app/orders/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport api from '@/lib/api';\r\nimport { Order } from '@/lib/types';\r\nimport Navigation from '@/components/Navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function OrdersPage() {\r\n  const { isAuthenticated } = useAuth();\r\n  const router = useRouter();\r\n  const [orders, setOrders] = useState<Order[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n    fetchOrders();\r\n  }, [isAuthenticated]);\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      const response = await api.get('/orders');\r\n      if (response.data.success) {\r\n        setOrders(response.data.orders);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <Navigation />\r\n        <div className=\"container mx-auto px-4 py-20 text-center\">Loading orders...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <Navigation />\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <h1 className=\"text-4xl font-bold mb-8\">My Orders</h1>\r\n\r\n        {orders.length === 0 ? (\r\n          <div className=\"text-center py-20\">\r\n            <p className=\"text-gray-500 mb-4\">No orders yet</p>\r\n            <Link href=\"/products\" className=\"text-purple-600 hover:underline\">\r\n              Start Shopping\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {orders.map((order) => (\r\n              <div\r\n                key={order._id}\r\n                className=\"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition\"\r\n              >\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div className=\"flex-1\">\r\n                    <Link href={`/orders/${order._id}`} className=\"block\">\r\n                      <h3 className=\"font-semibold text-lg\">Order #{order.orderNumber}</h3>\r\n                      <p className=\"text-gray-600\">\r\n                        {new Date(order.createdAt).toLocaleDateString()}\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-500 mt-2\">\r\n                        {order.items.length} item(s)\r\n                      </p>\r\n                    </Link>\r\n                    {order.paymentStatus === 'pending' && order.status === 'pending' && (\r\n                      <button\r\n                        onClick={async (e) => {\r\n                          e.stopPropagation();\r\n                          if (confirm('Are you sure you want to cancel this order?')) {\r\n                            try {\r\n                              await api.delete(`/orders/${order._id}`);\r\n                              fetchOrders();\r\n                            } catch (error: any) {\r\n                              alert(error.response?.data?.message || 'Failed to cancel order');\r\n                            }\r\n                          }\r\n                        }}\r\n                        className=\"mt-3 text-sm px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 font-semibold\"\r\n                      >\r\n                        Cancel Order\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"font-bold text-lg\">${order.total.toFixed(2)}</p>\r\n                    <div className=\"flex flex-col items-end gap-2 mt-2\">\r\n                      <span\r\n                        className={`inline-block px-3 py-1 rounded-full text-sm ${\r\n                          order.status === 'delivered'\r\n                            ? 'bg-green-100 text-green-800'\r\n                            : order.status === 'shipped'\r\n                            ? 'bg-blue-100 text-blue-800'\r\n                            : order.status === 'processing'\r\n                            ? 'bg-yellow-100 text-yellow-800'\r\n                            : 'bg-gray-100 text-gray-800'\r\n                        }`}\r\n                      >\r\n                        {order.status}\r\n                      </span>\r\n                      {order.paymentStatus === 'pending' && (\r\n                        <span className=\"text-xs text-orange-600 font-semibold\">\r\n                          Payment Pending\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3]}